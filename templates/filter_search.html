{% extends 'base.html' %}

{% block content %}
<form method="GET" action=".">
    <div class="form-row">
        <div class="form-group col-12">
            <div class="input-group">
                <input class="form-control py-2 border-right-0 border" type="search" name="title_contains" placeholder="Title contains..." />
                <span class="input-group-append">
                    <div class="input-group-text bg-transparent">
                        <i class="fa fa-search"></i>
                    </div>
                </span>
            </div>
        </div>        
    </div>
    <div class="form-row">
      <div class="form-group col-md-2 col-lg-2">
        <label for="priceMin">Price minimum</label>
        <input type="date" class="form-control" id="priceMin" name="price_min">
      </div>
      <div class="form-group col-md-2 col-lg-2">
        <label for="priceMax">Price maximum</label>
        <input type="date" class="form-control" id="priceMax" name="price_max">
      </div>
      <div class="form-group col-md-4">
        <label for="category">Category</label>
        <select id="category" class="form-control" name="category">
          <option selected>Choose...</option>
          {% for cat in categories %}
          <option value="{{ cat }}">{{ cat }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group col-md-4">
        <label for="sex">Sex</label>
        <select id="sex" class="form-control" name="sex">
          <option selected>Choose...</option>
          {% for s in sexes %}
          <option value="{{ s }}">{{ s }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Search</button>
  </form>
<div class="row row-cols-1 row-cols-md-4 m-2 justify-content-center">
  {% for item in queryset %}
    <div class="col mb-4">
      <div class="card h-100">
        <img src="{{ item.image.url }}" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">{{ item.title }}</h5>
          <p class="card-text">{{ item.short_description }}</p>
          <span class="card-link">Price: {{ item.price }}$</span>
          <a href="#" class="card-link">See more</a>
        </div>
      </div>
    </div>
    {% endfor %}
</div>
{% endblock content %}